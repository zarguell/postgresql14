apiVersion: v1

name: opensource/postgres/postgresql

tags:
- '14.8'

args:
  BASE_IMAGE: redhat/ubi/ubi8
  BASE_TAG: '8.7'

labels:
  org.opencontainers.image.title: postgresql
  org.opencontainers.image.description: PostgreSQL v14.6 server based on RedHat UBI 8. 
  org.opencontainers.image.licenses: PostgreSQL
  org.opencontainers.image.url: https://hub.docker.com/_/postgres
  org.opencontainers.image.vendor: PostgreSQL Global
  org.opencontainers.image.version: '14.8'
  mil.dso.ironbank.image.type: opensource
  mil.dso.ironbank.product.name: postgres

resources:
- tag: postgres:14.8
  url: docker://docker.io/postgres@sha256:af8b776d4b97636bc4844075d4d6e93df1eed120d4817cafda9000de24f1bd8a
- filename: RPM-GPG-KEY-PGDG-14
  url: https://download.postgresql.org/pub/repos/yum/RPM-GPG-KEY-PGDG-14
  validation:
    type: sha256
    value: 991821e20c4af66314b023db867c7ee8d593f249b9732cbacba7bcd7b25e9604
- filename: postgresql14-server.rpm
  url: https://ftp.postgresql.org/pub/repos/yum/14/redhat/rhel-8-x86_64/postgresql14-server-14.6-1PGDG.rhel8.x86_64.rpm
  validation:
    type: sha256
    value: df68c467dd018471ebb08053874ab66bd2ceb900624bc843a324579ccae72050
- filename: postgresql14.rpm
  url: https://ftp.postgresql.org/pub/repos/yum/14/redhat/rhel-8-x86_64/postgresql14-14.6-1PGDG.rhel8.x86_64.rpm
  validation:
    type: sha256
    value: af322c6dcb4b0b626e34d85f8ced1ade236b9c2497876cf6181f83bb54eaed07
- filename: postgresql14-libs.rpm
  url: https://ftp.postgresql.org/pub/repos/yum/14/redhat/rhel-8-x86_64/postgresql14-libs-14.6-1PGDG.rhel8.x86_64.rpm
  validation:
    type: sha256
    value: bff307deff554357b55dfe9ca3210965f9ffd4e731b04df8ba9200dcb2b15751
- filename: postgresql14-contrib.rpm
  url: https://ftp.postgresql.org/pub/repos/yum/14/redhat/rhel-8-x86_64/postgresql14-contrib-14.6-1PGDG.rhel8.x86_64.rpm
  validation:
    type: sha256
    value: 6b76ac84ad1f20a9d574b05deeeaed38e3f2f77551ac81bba10f7206e060bbd1
- filename: pgaudit.rpm
  url: https://download.postgresql.org/pub/repos/yum/14/redhat/rhel-8-x86_64/pgaudit16_14-1.6.2-1.rhel8.x86_64.rpm
  validation:
    type: sha256
    value: 80f15a3506d9409c1b200090af8c25dc22cff9389d7d958311ef972b9cb2f82d

maintainers:
  - name: "Jacob Hanafin"
    username: "hanafin.jacob"
    email: "jacob.hanafin@sigmadefense.com"
    cht_member: true
  - name: "Marcus Montgomery"
    email: "marcus.montgomery@sigmadefense.com"
    username: "montgomery.marcus"
    cht_member: true
